.card
  .card-header
    - if policy(Course).new?
      = link_to 'New Course', new_course_path,
                class: 'btn btn-primary float-right'
    %h3 Courses
  .card-body
    %table.table-striped.table
      %thead
        %tr
          %th.w-50 Name
          %th.w-25 Instructors
          %th Actions
      %tbody
        - @courses.each do |c|
          %tr
            %td= c.name
            %td
              - c.instructors.each do |i|
                = i.full_name
            %td.d-flex.justify-content-end
              = link_to edit_course_path(c),
                        class: 'btn btn-outline-primary mr-2' do
                = icon 'edit'
                Edit
              - if policy(c).delete?
                = link_to course_path(c), class: 'btn btn-outline-danger',
                          method: :delete do
                  = icon 'trash'
                  Delete
